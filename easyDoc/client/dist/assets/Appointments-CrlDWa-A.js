import{c as k,r as n,A as m,j as e,J as S,u as T,B as u,b as j,s as A,a as N}from"./index-B8V2LFaY.js";import{D as B,B as E}from"./Doctor-card-DrKQxhK0.js";import{C as L,a as M}from"./card-DLLc57Xf.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=k("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),H=({speciality:o,docId:s})=>{const{doctors:r}=n.useContext(m),[l,d]=n.useState(r);return n.useEffect(()=>{s&&d(r.filter(i=>i.speciality===o&&i._id!==s))},[s,o,r]),l.length<=0?e.jsx("div",{children:"No relevent doctor found"}):e.jsx(e.Fragment,{children:l.slice(0,5).map((i,x)=>e.jsx(B,{...i},x))})};function I({doctorInfo:o}){const s=S();console.log("location",s);const r=["Sun","MON","TUE","WED","THU","FRI","SAT"],[l,d]=n.useState([]),[i,x]=n.useState(0),[v,b]=n.useState(""),{doctors:F,backendurl:P,token:D,getDoctorsList:O,currencySymbol:U,setLocation:y}=n.useContext(m),g=T(),w=async()=>{d([]);let a=new Date;for(let c=0;c<7;c++){let t=new Date(a);t.setDate(a.getDate()+c);let p=new Date;p.setDate(a.getDate()+c),p.setHours(22,0,0,0),console.log("currentDate",t),console.log("today",a),a.getDate()===t.getDate()?(t.setHours(t.getHours()>10?t.getHours()+1:10),t.setMinutes(t.getMinutes()>30?30:0)):(t.setHours(10),t.setMinutes(0));let f=[];for(;t<p;){let h=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});f.push({dateTime:new Date(t),time:h}),t.setMinutes(t.getMinutes()+30)}d(h=>[...h,f])}};n.useEffect(()=>{w(),y(s.pathname)},[o]);const C=()=>D?g("/appointments/my-appointments"):(A("warning","Please login to book an appointment"),g("/login"));return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Booking slots"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.length&&l.map((a,c)=>e.jsxs(u,{onClick:()=>x(c),className:j("flex min-w-[4rem] min-h-[4rem] flex-col items-center rounded-lg px-4 py-2 text-sm transition-colors border-2 bg-transparent text-black hover:bg-transparent",i===c?"bg-teal-600 hover:bg-teal-500 text-white":""),children:[e.jsx("p",{children:a[0]&&r[a[0].dateTime.getDay()]}),e.jsx("p",{children:a[0]&&a[0].dateTime.getDate()})]},c))}),e.jsx("div",{className:"overflow-x-auto pb-5",children:e.jsx("div",{className:"flex min-w-max gap-4 ",children:l.length&&l[i].map((a,c)=>e.jsx(u,{className:j("rounded-full px-4 py-1 text-sm transition-colors border-2 bg-transparent text-black hover:bg-transparent",v===a.time?"bg-teal-600 hover:bg-teal-500 text-white":""),onClick:()=>b(a.time),children:a.time.toLowerCase()},c))})}),e.jsx(u,{className:" bg-teal-600 hover:bg-teal-500",onClick:C,children:"Book an appointment"}),e.jsxs("div",{className:"mt-20",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-4 mt-20",children:"Relevant Specialists"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.jsx(H,{docId:o._id,speciality:o.speciality})})]})]})}function R(){const{doctors:o}=n.useContext(m);let[s,r]=n.useState({}),{docId:l}=N();const d=()=>{r(o.find(i=>i._id===l))};return n.useEffect(()=>{d()},[l,o]),s&&e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"border-0 shadow-none",children:e.jsx(M,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsx("div",{className:"h-64 w-64 overflow-hidden rounded-xl  shadow-[4px_4px_14px_rgba(0,0,0,0.3)]",children:e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-contain"})}),e.jsxs("div",{className:"flex-1 space-y-4 border-2 p-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-xl font-semibold",children:s.name}),e.jsx(_,{className:"h-5 w-5 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s.degree," -",s.speciality]}),e.jsxs(E,{variant:"secondary",children:["Exp ",s.experience," Y"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-medium",children:"About"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.about})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Appointment fee:"}),e.jsxs("span",{className:"text-sm",children:["Â£",s.fees]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsx("div",{className:" p-4 col-span-1"}),e.jsx("div",{className:" p-4 col-span-4",children:e.jsx(I,{doctorInfo:s})})]})]})}const Y=()=>{const{docId:o}=N(),{doctors:s}=n.useContext(m);return s.filter(r=>r._id===o),e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"container mx-auto space-y-8 px-4 py-8",children:e.jsx(R,{})})})};export{Y as default};
