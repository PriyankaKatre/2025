import{c as Me,r as n,j as e,P as A,f as Ct,g as Nt,h as Ae,i as B,k as bt,l as R,m as z,n as De,o as It,p as jt,R as Tt,S as Pt,F as Rt,D as Et,C as _t,q as Ie,t as Mt,v as At,w as Dt,x as Te,y as Ot,z as kt,b as q,E as Lt,A as Bt,G as Vt,H as Pe,I as Ht,B as Re,e as Ft,s as Ee}from"./index-B8V2LFaY.js";import{C as Ut,b as Wt,a as Kt}from"./card-DLLc57Xf.js";import{I as ee}from"./input-ZkXcV_LX.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function _e(t,[s,o]){return Math.min(o,Math.max(s,t))}function Gt(t){const s=n.useRef({value:t,previous:t});return n.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var zt="VisuallyHidden",ke=n.forwardRef((t,s)=>e.jsx(A.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ke.displayName=zt;var qt=[" ","Enter","ArrowUp","ArrowDown"],Yt=[" ","Enter"],ae="Select",[de,ue,Jt]=Ct(ae),[ne,Po]=Nt(ae,[Jt,Ae]),pe=Ae(),[Xt,Y]=ne(ae),[Zt,Qt]=ne(ae),Le=t=>{const{__scopeSelect:s,children:o,open:i,defaultOpen:d,onOpenChange:u,value:c,defaultValue:a,onValueChange:l,dir:f,name:x,autoComplete:v,disabled:T,required:j,form:N}=t,p=pe(s),[g,S]=n.useState(null),[r,m]=n.useState(null),[b,P]=n.useState(!1),O=Dt(f),[E=!1,k]=Te({prop:i,defaultProp:d,onChange:u}),[K,X]=Te({prop:c,defaultProp:a,onChange:l}),V=n.useRef(null),H=g?N||!!g.closest("form"):!0,[$,F]=n.useState(new Set),U=Array.from($).map(_=>_.props.value).join(";");return e.jsx(Ot,{...p,children:e.jsxs(Xt,{required:j,scope:s,trigger:g,onTriggerChange:S,valueNode:r,onValueNodeChange:m,valueNodeHasChildren:b,onValueNodeHasChildrenChange:P,contentId:Ie(),value:K,onValueChange:X,open:E,onOpenChange:k,dir:O,triggerPointerDownPosRef:V,disabled:T,children:[e.jsx(de.Provider,{scope:s,children:e.jsx(Zt,{scope:t.__scopeSelect,onNativeOptionAdd:n.useCallback(_=>{F(L=>new Set(L).add(_))},[]),onNativeOptionRemove:n.useCallback(_=>{F(L=>{const W=new Set(L);return W.delete(_),W})},[]),children:o})}),H?e.jsxs(it,{"aria-hidden":!0,required:j,tabIndex:-1,name:x,autoComplete:v,value:K,onChange:_=>X(_.target.value),disabled:T,form:N,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from($)]},U):null]})})};Le.displayName=ae;var Be="SelectTrigger",Ve=n.forwardRef((t,s)=>{const{__scopeSelect:o,disabled:i=!1,...d}=t,u=pe(o),c=Y(Be,o),a=c.disabled||i,l=B(s,c.onTriggerChange),f=ue(o),x=n.useRef("touch"),[v,T,j]=ct(p=>{const g=f().filter(m=>!m.disabled),S=g.find(m=>m.value===c.value),r=dt(g,p,S);r!==void 0&&c.onValueChange(r.value)}),N=p=>{a||(c.onOpenChange(!0),j()),p&&(c.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(bt,{asChild:!0,...u,children:e.jsx(A.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lt(c.value)?"":void 0,...d,ref:l,onClick:R(d.onClick,p=>{p.currentTarget.focus(),x.current!=="mouse"&&N(p)}),onPointerDown:R(d.onPointerDown,p=>{x.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(N(p),p.preventDefault())}),onKeyDown:R(d.onKeyDown,p=>{const g=v.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&T(p.key),!(g&&p.key===" ")&&qt.includes(p.key)&&(N(),p.preventDefault())})})})});Ve.displayName=Be;var He="SelectValue",Fe=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:d,children:u,placeholder:c="",...a}=t,l=Y(He,o),{onValueNodeHasChildrenChange:f}=l,x=u!==void 0,v=B(s,l.onValueNodeChange);return z(()=>{f(x)},[f,x]),e.jsx(A.span,{...a,ref:v,style:{pointerEvents:"none"},children:lt(l.value)?e.jsx(e.Fragment,{children:c}):u})});Fe.displayName=He;var eo="SelectIcon",Ue=n.forwardRef((t,s)=>{const{__scopeSelect:o,children:i,...d}=t;return e.jsx(A.span,{"aria-hidden":!0,...d,ref:s,children:i||"â–¼"})});Ue.displayName=eo;var to="SelectPortal",We=t=>e.jsx(kt,{asChild:!0,...t});We.displayName=to;var te="SelectContent",Ke=n.forwardRef((t,s)=>{const o=Y(te,t.__scopeSelect),[i,d]=n.useState();if(z(()=>{d(new DocumentFragment)},[]),!o.open){const u=i;return u?De.createPortal(e.jsx($e,{scope:t.__scopeSelect,children:e.jsx(de.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),u):null}return e.jsx(Ge,{...t,ref:s})});Ke.displayName=te;var D=10,[$e,J]=ne(te),oo="SelectContentImpl",Ge=n.forwardRef((t,s)=>{const{__scopeSelect:o,position:i="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:u,onPointerDownOutside:c,side:a,sideOffset:l,align:f,alignOffset:x,arrowPadding:v,collisionBoundary:T,collisionPadding:j,sticky:N,hideWhenDetached:p,avoidCollisions:g,...S}=t,r=Y(te,o),[m,b]=n.useState(null),[P,O]=n.useState(null),E=B(s,h=>b(h)),[k,K]=n.useState(null),[X,V]=n.useState(null),H=ue(o),[$,F]=n.useState(!1),U=n.useRef(!1);n.useEffect(()=>{if(m)return It(m)},[m]),jt();const _=n.useCallback(h=>{const[I,...M]=H().map(y=>y.ref.current),[C]=M.slice(-1),w=document.activeElement;for(const y of h)if(y===w||(y==null||y.scrollIntoView({block:"nearest"}),y===I&&P&&(P.scrollTop=0),y===C&&P&&(P.scrollTop=P.scrollHeight),y==null||y.focus(),document.activeElement!==w))return},[H,P]),L=n.useCallback(()=>_([k,m]),[_,k,m]);n.useEffect(()=>{$&&L()},[$,L]);const{onOpenChange:W,triggerPointerDownPosRef:G}=r;n.useEffect(()=>{if(m){let h={x:0,y:0};const I=C=>{var w,y;h={x:Math.abs(Math.round(C.pageX)-(((w=G.current)==null?void 0:w.x)??0)),y:Math.abs(Math.round(C.pageY)-(((y=G.current)==null?void 0:y.y)??0))}},M=C=>{h.x<=10&&h.y<=10?C.preventDefault():m.contains(C.target)||W(!1),document.removeEventListener("pointermove",I),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",M,{capture:!0})}}},[m,W,G]),n.useEffect(()=>{const h=()=>W(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[W]);const[fe,le]=ct(h=>{const I=H().filter(w=>!w.disabled),M=I.find(w=>w.ref.current===document.activeElement),C=dt(I,h,M);C&&setTimeout(()=>C.ref.current.focus())}),me=n.useCallback((h,I,M)=>{const C=!U.current&&!M;(r.value!==void 0&&r.value===I||C)&&(K(h),C&&(U.current=!0))},[r.value]),he=n.useCallback(()=>m==null?void 0:m.focus(),[m]),oe=n.useCallback((h,I,M)=>{const C=!U.current&&!M;(r.value!==void 0&&r.value===I||C)&&V(h)},[r.value]),ie=i==="popper"?Se:ze,se=ie===Se?{side:a,sideOffset:l,align:f,alignOffset:x,arrowPadding:v,collisionBoundary:T,collisionPadding:j,sticky:N,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx($e,{scope:o,content:m,viewport:P,onViewportChange:O,itemRefCallback:me,selectedItem:k,onItemLeave:he,itemTextRefCallback:oe,focusSelectedItem:L,selectedItemText:X,position:i,isPositioned:$,searchRef:fe,children:e.jsx(Tt,{as:Pt,allowPinchZoom:!0,children:e.jsx(Rt,{asChild:!0,trapped:r.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:R(d,h=>{var I;(I=r.trigger)==null||I.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Et,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>r.onOpenChange(!1),children:e.jsx(ie,{role:"listbox",id:r.contentId,"data-state":r.open?"open":"closed",dir:r.dir,onContextMenu:h=>h.preventDefault(),...S,...se,onPlaced:()=>F(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:R(S.onKeyDown,h=>{const I=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!I&&h.key.length===1&&le(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let C=H().filter(w=>!w.disabled).map(w=>w.ref.current);if(["ArrowUp","End"].includes(h.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const w=h.target,y=C.indexOf(w);C=C.slice(y+1)}setTimeout(()=>_(C)),h.preventDefault()}})})})})})})});Ge.displayName=oo;var no="SelectItemAlignedPosition",ze=n.forwardRef((t,s)=>{const{__scopeSelect:o,onPlaced:i,...d}=t,u=Y(te,o),c=J(te,o),[a,l]=n.useState(null),[f,x]=n.useState(null),v=B(s,E=>x(E)),T=ue(o),j=n.useRef(!1),N=n.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:S,focusSelectedItem:r}=c,m=n.useCallback(()=>{if(u.trigger&&u.valueNode&&a&&f&&p&&g&&S){const E=u.trigger.getBoundingClientRect(),k=f.getBoundingClientRect(),K=u.valueNode.getBoundingClientRect(),X=S.getBoundingClientRect();if(u.dir!=="rtl"){const w=X.left-k.left,y=K.left-w,Z=E.left-y,Q=E.width+Z,ge=Math.max(Q,k.width),xe=window.innerWidth-D,ve=_e(y,[D,Math.max(D,xe-ge)]);a.style.minWidth=Q+"px",a.style.left=ve+"px"}else{const w=k.right-X.right,y=window.innerWidth-K.right-w,Z=window.innerWidth-E.right-y,Q=E.width+Z,ge=Math.max(Q,k.width),xe=window.innerWidth-D,ve=_e(y,[D,Math.max(D,xe-ge)]);a.style.minWidth=Q+"px",a.style.right=ve+"px"}const V=T(),H=window.innerHeight-D*2,$=p.scrollHeight,F=window.getComputedStyle(f),U=parseInt(F.borderTopWidth,10),_=parseInt(F.paddingTop,10),L=parseInt(F.borderBottomWidth,10),W=parseInt(F.paddingBottom,10),G=U+_+$+W+L,fe=Math.min(g.offsetHeight*5,G),le=window.getComputedStyle(p),me=parseInt(le.paddingTop,10),he=parseInt(le.paddingBottom,10),oe=E.top+E.height/2-D,ie=H-oe,se=g.offsetHeight/2,h=g.offsetTop+se,I=U+_+h,M=G-I;if(I<=oe){const w=V.length>0&&g===V[V.length-1].ref.current;a.style.bottom="0px";const y=f.clientHeight-p.offsetTop-p.offsetHeight,Z=Math.max(ie,se+(w?he:0)+y+L),Q=I+Z;a.style.height=Q+"px"}else{const w=V.length>0&&g===V[0].ref.current;a.style.top="0px";const Z=Math.max(oe,U+p.offsetTop+(w?me:0)+se)+M;a.style.height=Z+"px",p.scrollTop=I-oe+p.offsetTop}a.style.margin=`${D}px 0`,a.style.minHeight=fe+"px",a.style.maxHeight=H+"px",i==null||i(),requestAnimationFrame(()=>j.current=!0)}},[T,u.trigger,u.valueNode,a,f,p,g,S,u.dir,i]);z(()=>m(),[m]);const[b,P]=n.useState();z(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const O=n.useCallback(E=>{E&&N.current===!0&&(m(),r==null||r(),N.current=!1)},[m,r]);return e.jsx(ro,{scope:o,contentWrapper:a,shouldExpandOnScrollRef:j,onScrollButtonChange:O,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:e.jsx(A.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});ze.displayName=no;var so="SelectPopperPosition",Se=n.forwardRef((t,s)=>{const{__scopeSelect:o,align:i="start",collisionPadding:d=D,...u}=t,c=pe(o);return e.jsx(_t,{...c,...u,ref:s,align:i,collisionPadding:d,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Se.displayName=so;var[ro,je]=ne(te,{}),we="SelectViewport",qe=n.forwardRef((t,s)=>{const{__scopeSelect:o,nonce:i,...d}=t,u=J(we,o),c=je(we,o),a=B(s,u.onViewportChange),l=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(de.Slot,{scope:o,children:e.jsx(A.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:R(d.onScroll,f=>{const x=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&v){const j=Math.abs(l.current-x.scrollTop);if(j>0){const N=window.innerHeight-D*2,p=parseFloat(v.style.minHeight),g=parseFloat(v.style.height),S=Math.max(p,g);if(S<N){const r=S+j,m=Math.min(N,r),b=r-m;v.style.height=m+"px",v.style.bottom==="0px"&&(x.scrollTop=b>0?b:0,v.style.justifyContent="flex-end")}}}l.current=x.scrollTop})})})]})});qe.displayName=we;var Ye="SelectGroup",[ao,lo]=ne(Ye),io=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,d=Ie();return e.jsx(ao,{scope:o,id:d,children:e.jsx(A.div,{role:"group","aria-labelledby":d,...i,ref:s})})});io.displayName=Ye;var Je="SelectLabel",Xe=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,d=lo(Je,o);return e.jsx(A.div,{id:d.id,...i,ref:s})});Xe.displayName=Je;var ce="SelectItem",[co,Ze]=ne(ce),Qe=n.forwardRef((t,s)=>{const{__scopeSelect:o,value:i,disabled:d=!1,textValue:u,...c}=t,a=Y(ce,o),l=J(ce,o),f=a.value===i,[x,v]=n.useState(u??""),[T,j]=n.useState(!1),N=B(s,r=>{var m;return(m=l.itemRefCallback)==null?void 0:m.call(l,r,i,d)}),p=Ie(),g=n.useRef("touch"),S=()=>{d||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(co,{scope:o,value:i,disabled:d,textId:p,isSelected:f,onItemTextChange:n.useCallback(r=>{v(m=>m||((r==null?void 0:r.textContent)??"").trim())},[]),children:e.jsx(de.ItemSlot,{scope:o,value:i,disabled:d,textValue:x,children:e.jsx(A.div,{role:"option","aria-labelledby":p,"data-highlighted":T?"":void 0,"aria-selected":f&&T,"data-state":f?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...c,ref:N,onFocus:R(c.onFocus,()=>j(!0)),onBlur:R(c.onBlur,()=>j(!1)),onClick:R(c.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:R(c.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:R(c.onPointerDown,r=>{g.current=r.pointerType}),onPointerMove:R(c.onPointerMove,r=>{var m;g.current=r.pointerType,d?(m=l.onItemLeave)==null||m.call(l):g.current==="mouse"&&r.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(c.onPointerLeave,r=>{var m;r.currentTarget===document.activeElement&&((m=l.onItemLeave)==null||m.call(l))}),onKeyDown:R(c.onKeyDown,r=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&r.key===" "||(Yt.includes(r.key)&&S(),r.key===" "&&r.preventDefault())})})})})});Qe.displayName=ce;var re="SelectItemText",et=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:d,...u}=t,c=Y(re,o),a=J(re,o),l=Ze(re,o),f=Qt(re,o),[x,v]=n.useState(null),T=B(s,S=>v(S),l.onItemTextChange,S=>{var r;return(r=a.itemTextRefCallback)==null?void 0:r.call(a,S,l.value,l.disabled)}),j=x==null?void 0:x.textContent,N=n.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:j},l.value),[l.disabled,l.value,j]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=f;return z(()=>(p(N),()=>g(N)),[p,g,N]),e.jsxs(e.Fragment,{children:[e.jsx(A.span,{id:l.textId,...u,ref:T}),l.isSelected&&c.valueNode&&!c.valueNodeHasChildren?De.createPortal(u.children,c.valueNode):null]})});et.displayName=re;var tt="SelectItemIndicator",ot=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return Ze(tt,o).isSelected?e.jsx(A.span,{"aria-hidden":!0,...i,ref:s}):null});ot.displayName=tt;var ye="SelectScrollUpButton",nt=n.forwardRef((t,s)=>{const o=J(ye,t.__scopeSelect),i=je(ye,t.__scopeSelect),[d,u]=n.useState(!1),c=B(s,i.onScrollButtonChange);return z(()=>{if(o.viewport&&o.isPositioned){let a=function(){const f=l.scrollTop>0;u(f)};const l=o.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),d?e.jsx(rt,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=o;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});nt.displayName=ye;var Ce="SelectScrollDownButton",st=n.forwardRef((t,s)=>{const o=J(Ce,t.__scopeSelect),i=je(Ce,t.__scopeSelect),[d,u]=n.useState(!1),c=B(s,i.onScrollButtonChange);return z(()=>{if(o.viewport&&o.isPositioned){let a=function(){const f=l.scrollHeight-l.clientHeight,x=Math.ceil(l.scrollTop)<f;u(x)};const l=o.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),d?e.jsx(rt,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=o;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});st.displayName=Ce;var rt=n.forwardRef((t,s)=>{const{__scopeSelect:o,onAutoScroll:i,...d}=t,u=J("SelectScrollButton",o),c=n.useRef(null),a=ue(o),l=n.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return n.useEffect(()=>()=>l(),[l]),z(()=>{var x;const f=a().find(v=>v.ref.current===document.activeElement);(x=f==null?void 0:f.ref.current)==null||x.scrollIntoView({block:"nearest"})},[a]),e.jsx(A.div,{"aria-hidden":!0,...d,ref:s,style:{flexShrink:0,...d.style},onPointerDown:R(d.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:R(d.onPointerMove,()=>{var f;(f=u.onItemLeave)==null||f.call(u),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:R(d.onPointerLeave,()=>{l()})})}),uo="SelectSeparator",at=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return e.jsx(A.div,{"aria-hidden":!0,...i,ref:s})});at.displayName=uo;var Ne="SelectArrow",po=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,d=pe(o),u=Y(Ne,o),c=J(Ne,o);return u.open&&c.position==="popper"?e.jsx(Mt,{...d,...i,ref:s}):null});po.displayName=Ne;function lt(t){return t===""||t===void 0}var it=n.forwardRef((t,s)=>{const{value:o,...i}=t,d=n.useRef(null),u=B(s,d),c=Gt(o);return n.useEffect(()=>{const a=d.current,l=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(l,"value").set;if(c!==o&&x){const v=new Event("change",{bubbles:!0});x.call(a,o),a.dispatchEvent(v)}},[c,o]),e.jsx(ke,{asChild:!0,children:e.jsx("select",{...i,ref:u,defaultValue:o})})});it.displayName="BubbleSelect";function ct(t){const s=At(t),o=n.useRef(""),i=n.useRef(0),d=n.useCallback(c=>{const a=o.current+c;s(a),function l(f){o.current=f,window.clearTimeout(i.current),f!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[s]),u=n.useCallback(()=>{o.current="",window.clearTimeout(i.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(i.current),[]),[o,d,u]}function dt(t,s,o){const d=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,u=o?t.indexOf(o):-1;let c=fo(t,Math.max(u,0));d.length===1&&(c=c.filter(f=>f!==o));const l=c.find(f=>f.textValue.toLowerCase().startsWith(d.toLowerCase()));return l!==o?l:void 0}function fo(t,s){return t.map((o,i)=>t[(s+i)%t.length])}var mo=Le,ut=Ve,ho=Fe,go=Ue,xo=We,pt=Ke,vo=qe,ft=Xe,mt=Qe,So=et,wo=ot,ht=nt,gt=st,xt=at;const yo=mo,Co=ho,vt=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(ut,{ref:i,className:q("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[s,e.jsx(go,{asChild:!0,children:e.jsx(Oe,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=ut.displayName;const St=n.forwardRef(({className:t,...s},o)=>e.jsx(ht,{ref:o,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx($t,{className:"h-4 w-4"})}));St.displayName=ht.displayName;const wt=n.forwardRef(({className:t,...s},o)=>e.jsx(gt,{ref:o,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Oe,{className:"h-4 w-4"})}));wt.displayName=gt.displayName;const yt=n.forwardRef(({className:t,children:s,position:o="popper",...i},d)=>e.jsx(xo,{children:e.jsxs(pt,{ref:d,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...i,children:[e.jsx(St,{}),e.jsx(vo,{className:q("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(wt,{})]})}));yt.displayName=pt.displayName;const No=n.forwardRef(({className:t,...s},o)=>e.jsx(ft,{ref:o,className:q("px-2 py-1.5 text-sm font-semibold",t),...s}));No.displayName=ft.displayName;const be=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(mt,{ref:i,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(wo,{children:e.jsx(Lt,{className:"h-4 w-4"})})}),e.jsx(So,{children:s})]}));be.displayName=mt.displayName;const bo=n.forwardRef(({className:t,...s},o)=>e.jsx(xt,{ref:o,className:q("-mx-1 my-1 h-px bg-muted",t),...s}));bo.displayName=xt.displayName;function Ro(){const{userData:t,setUserData:s,backendurl:o,token:i,getUserData:d}=n.useContext(Bt),[u,c]=n.useState(!1),[a,l]=n.useState(""),[f,x]=n.useState(!1),[v,T]=n.useState(t),[j,N]=n.useState(!1);n.useEffect(()=>{N(JSON.stringify(t)!==JSON.stringify(v)||!!a)},[t,a,v]);const p=r=>{const{name:m,value:b}=r.target;s(P=>{const O=m.split(".");return O.length===1?{...P,[m]:b}:{...P,[O[0]]:{...P[O[0]],[O[1]]:b}}})},g=r=>{s(m=>({...m,gender:r}))},S=async()=>{x(!0);try{const r=new FormData;for(const b in t)console.log("key in form data",b),b==="address"&&typeof t.address=="object"?r.append("address",JSON.stringify(t.address)):t[b]!==void 0&&r.append(b,t[b]);a&&(console.log("inside image",a),r.delete("image"),r.append("image",a));for(const[b,P]of r.entries())console.log(`${b}: ${P}`);const{data:m}=await Ft.post(`${o}/api/user/update-profile`,r,{headers:{token:i,"Content-Type":"multipart/form-data"}});r&&console.log("formData",r),m.success&&(Ee("success","User data updated successfully"),d())}catch{Ee("success","Error updating user profile:")}finally{x(!1)}};return t&&e.jsxs(Ut,{className:"max-w-2xl mt-8",children:[e.jsxs(Wt,{className:"space-y-6 flex flex-row",children:[e.jsxs(Vt,{style:{borderRadius:"0 !important"},className:"h-40 w-40",children:[u?e.jsx(e.Fragment,{children:e.jsx(Pe,{src:a?URL.createObjectURL(a):t.image,alt:"Profile picture"})}):e.jsx(Pe,{className:"rounded-[50%]",src:t.image,alt:"Profile picture"}),e.jsx(Ht,{children:t==null?void 0:t.name.slice(0,2)})]}),u&&e.jsx("div",{className:"inline",children:e.jsx(ee,{type:"file",onChange:r=>l(r.target.files[0]),placeholder:"edit profile image"})})]}),e.jsxs(Kt,{className:"space-y-8",children:[u?e.jsx(ee,{type:"text",value:t.name,name:"name",onChange:r=>p(r)}):e.jsx("h1",{className:"text-2xl font-semibold",children:t.name}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm text-muted-foreground font-medium uppercase tracking-wide",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email id:"}),u?e.jsx(ee,{type:"text",value:t.email,name:"email",onChange:r=>p(r)}):e.jsx("span",{className:"col-span-2 text-teal-600",children:t.email})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),u?e.jsx(ee,{type:"text",value:t.phone,name:"phone",onChange:r=>p(r)}):e.jsx("span",{className:"col-span-2",children:t.phone})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Address:"}),u?e.jsxs(e.Fragment,{children:[e.jsx(ee,{type:"text",value:t.address.line1,name:"address.line1",onChange:r=>p(r)}),e.jsx(ee,{type:"text",value:t.address.line2,name:"address.line2",onChange:r=>p(r)})]}):e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{children:t.address.line1}),e.jsx("p",{children:t.address.line2})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm text-muted-foreground font-medium uppercase tracking-wide",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"}),u?e.jsxs(yo,{onValueChange:g,children:[e.jsx(vt,{className:"w-[180px]",children:e.jsx(Co,{placeholder:"Gender"})}),e.jsxs(yt,{children:[e.jsx(be,{value:"Male",children:"Male"}),e.jsx(be,{value:"Female",children:"Female"})]})]}):e.jsx("span",{className:"col-span-2",children:t.gender})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Birthday:"}),u?e.jsx(ee,{type:"date",value:t.dob,name:"dob",onChange:r=>p(r)}):e.jsx("span",{className:"col-span-2",children:t.dob})]})]})]}),e.jsx("div",{children:u?e.jsx(Re,{variant:"outline",disabled:!j,className:`hover:bg-teal-600 !bg-teal-600 text-white hover:text-white${j?"":"cursor-not-allowed opacity-50 pointer-events-none"}`,onClick:()=>S(),children:f?"Submitting...":"Save Information"}):e.jsx(Re,{variant:"outline",className:"hover:bg-teal-600 bg-teal-600 text-white hover:text-white",onClick:()=>c(!0),children:"Edit"})})]})]})}export{Ro as default};
